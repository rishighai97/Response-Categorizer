{% extends 'layout.html' %}
{% block content %}

<!-- 
0 - question
1 - accepted answer
2 - answers
que, accepted_answer, [ans_id, answer, score, [comm, score, pol]]
-->

<head>
	<script>

	</script>
</head>


<form method="POST" action="" novalidate>
{{ form.hidden_tag() }}

<h1>
	{{result[0]}}
</h1>

<h4>Model Answer</h4>
		<article class="media content-section">
		  <div class="media-body">
		    <div class="article-metadata">
		      <h6><a class="article-title">{{ result[1] }}</a></h6>
		    </div>
		  </div>
		</article>

<!-- Control buttons -->
{{form.htl(class="btn btn-outline-info")}} {{form.lth(class="btn btn-outline-info")}}<br>
{{form.minimum.label(class="form-control-label")}} : {{form.minimum(class="form-control form-control-lg") }}<br>
{{form.maximum.label(class="form-control-label")}}  :  {{form.maximum(class="form-control form-control-lg") }} 	    
<h4>Answers</h4>
	
	{% for res in result[2] %}
	{% if res[2]>=minimum and res[2]<=maximum %}
		<article class="media content-section">
		  <div class="media-body">
		    <div class="article-metadata">
		    	<span class="badge badge-secondary">{{ res[2] }}</span>	 
		      <h6><a class="article-title">{{ res[1] }}</a></h6>	
		      <br><br>
		           
		     		{% for comm in res[3] %}
		     		{% if comm[1]>=minimum and comm[1]<=maximum %}
		     			{% if comm[2] != -1 %}

		     			<article class="media content-section" style = "margin-left:15%;color:#ffffff;
		     				{% if comm[2]==1 %}
		     					background-color: green;
		     				{% else %}
		     					background-color: red;
		     				{% endif %}
		     			">	
		     						
		     						<p>{{ comm[0] }}</p>
				      		<span class="badge badge-secondary" >{{ comm[1] }}</span>			
		      			</article>
		      			{% endif %}
		      		{% endif %}
		      		{% endfor %}		  	  
		    </div>
		  </div>
		</article>
	{% endif %}
	{% endfor %}
</form>
{% endblock content %}